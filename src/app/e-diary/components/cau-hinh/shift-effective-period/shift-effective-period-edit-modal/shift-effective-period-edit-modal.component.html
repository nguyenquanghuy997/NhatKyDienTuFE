<div *ngIf="lstFunctionCode && lstFunctionCode.includes(FunctionCode.EDIT)"
  class="modal fade show"
  id="ShiftCategoryEditModal"
>
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header justify-content-between align-items-center">
        <h5 class="modal-title">Cập nhật mẫu ca trực</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          (click)="onHide()"
        >
          <i class="anticon anticon-close"></i>
        </button>
      </div>
      <div class="modal-body scrollable">
        <form [formGroup]="popupForm" (ngSubmit)="onSubmit()">
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="Name">Tên <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                id="Name"
                maxlength="100"
                placeholder="Nhập tên"
                formControlName="Name"
                [ngClass]="{
                  'is-invalid':
                    f.Name.errors && (f.Name.touched || f.Name.dirty)
                }"
                required
              />
              <div
                *ngIf="f.Name.errors && (f.Name.touched || f.Name.dirty)"
                class="invalid-feedback"
              >
                <div *ngIf="f.Name.errors.required">Tên không được trống</div>
                <div *ngIf="f.Name.errors.maxLength">
                  Tên không quá 100 ký tự
                </div>
              </div>
            </div>
            <div class="form-group col-md-6">
              <label for="ShiftCategoryId">Loại ca trực </label>
              <input
                type="text"
                class="form-control"
                formControlName="ShiftCategoryName"
                readonly
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="Note" class="form-label">Ghi chú</label>
              <textarea
                rows="2"
                formControlName="Note"
                class="form-control"
                id="Note"
                placeholder="Ghi chú"
                maxlength="1000"
                [ngClass]="{
                  'is-invalid':
                    f.Note.errors && (f.Note.touched || f.Note.dirty)
                }"
              ></textarea>
              <div
                *ngIf="f.Note.errors && (f.Note.touched || f.Note.dirty)"
                class="invalid-feedback"
              >
                <div *ngIf="f.Note.errors?.[maxlength]">Tối đa 1000 ký tự</div>
              </div>
            </div>

            <div class="col-md-4">
              <label for="IsActive">Trạng thái</label>
              <select
                class="form-select form-control"
                aria-label=".form-select-lg"
                id="IsActive"
                formControlName="IsActive"
                [ngClass]="{
                  'is-invalid':
                    (f.IsActive.touched || f.IsActive.dirty) &&
                    f.IsActive.errors
                }"
              >
                <option [ngValue]="true" selected>Hoạt động</option>
                <option [ngValue]="false">Không hoạt động</option>
              </select>
              <div
                *ngIf="
                  (f.IsActive.touched || f.IsActive.dirty) && f.IsActive.errors
                "
                class="invalid-feedback"
              >
                <div *ngIf="f.IsActive.errors.required">Không được trống</div>
              </div>
            </div>
            <div class="col-md-2">
              <label class="form-label"
                >Màu hiển thị <span class="text-danger">*</span></label
              >
              <div style="width: fit-content">
                <ngx-colors
                  ngx-colors-trigger
                  [formControl]="popupForm.controls['Color']"
                  [format]="'hex'"
                  [hideTextInput]="true"
                  [hideColorPicker]="true"
                >
                </ngx-colors>
              </div>
              <div *ngIf="f.Color.errors" class="error-feedback">
                <div *ngIf="f.Color.errors.required">
                  Màu hiển thị không để trống
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button
          type="submit"
          *ngIf="lstFunctionCode && lstFunctionCode.includes(FunctionCode.EDIT)"
          class="btn btn-primary"
          (click)="onSubmit()"
        >
          Lưu
        </button>
        <button (click)="onHide()" class="btn btn-secondary">Đóng</button>
      </div>
    </div>
  </div>
</div>
